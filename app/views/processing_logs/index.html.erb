<div class="p-5">
  <h1 class="text-2xl text-center mb-5">Processing Logs</h1>
  <hr>

  <div class="overflow-x-auto">
    <table class="table table-zebra">
      <thead>
        <tr>
          <th>ID</th>
          <th>Status</th>
          <th>Date</th>
          <th></th>
        </tr>
      </thead>
    
      <tbody>
        <% @processing_logs.each do |log| %>
          <tr>
            <td><%= log.id %></td>

            <td>
              <% if log.success? %>
                <span class="badge bg-success">Sucesso</span>
              <% else %>
                <span class="badge bg-error">Falha</span>
              <% end %>
            </td>

            <td><%= log.created_at.strftime("%d/%m/%Y %H:%M") %></td>

            <td>
              <%= link_to "Ver", processing_log_path(log), class: "btn btn-sm btn-primary" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <div class="card-actions justify-start mt-5">
      <%= link_to "â† Voltar", root_path, class: "btn btn-secondary" %>
    </div>
  </div>

  <%= render PaginationComponent.new(pagy: pagy_nav(@pagy), pages: @pagy.pages) %>
</div>
