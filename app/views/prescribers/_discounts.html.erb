<div class="card border border-primary mt-2 <%= index % 2 == 0 ? "bg-gray-200" : "bg-gray-100" %>">
  <div class="m-5">
    <table class="table-auto w-full text-sm font-semibold text-center">
      <thead class="text-base">
        <tr>
          <th>Visivel</th>
          <th>Filial</th>
          <th>Valor</th>
          <th>Criado em</th>
          <th>Atualizado em</th>
          <th>Descrição</th>
          <th>Ações</th>
        </tr>
      </thead>

      <tbody>
        <% prescriber.discounts.each do |discount| %>
          <tr class="bg-white border">
            <td><%= t("view.discount.visible.#{discount.visible}") %></td>
            <td><%= discount.branch.name %></td>
            <td><%= number_to_currency(discount.price) %></td>
            <td><%= discount.created_at.strftime("%d/%m/%Y") %></td>
            <td><%= discount.updated_at.strftime("%d/%m/%Y") %></td>
            <td><%= discount.description %></td>

            <td class="flex justify-center gap-2">
              <button onclick="document.getElementById('edit_discount_representative<%= discount.id %>').showModal();" title="Editar Conta">
                <span class="material-symbols-outlined text-primary">edit</span>
              </button>

              <dialog id="edit_discount_representative<%= discount.id %>" class="modal place-items-center">
                <%= render ModalComponent.new(form: render("discounts/form", prescriber: prescriber, discount: discount, branches: branches, title: "Editar Desconto : #{discount.id}", btn_save: "Atualizar", route: "prescriber")) %>
              </dialog>

              <%= link_to discount_path(discount, route: "prescriber"),
                  data: { turbo_confirm: "Tem certeza que deseja apagar?", turbo_method: :delete },
                  title: "Apagar definitivamente" do %>
                <span class="material-symbols-outlined text-primary">delete</span>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
